// https://msdn.microsoft.com/en-us/library/ms126079.aspx
// https://bennyaustin.wordpress.com/2011/03/01/ssas-dmv-queries-cube-metadata/

--All Attributes
SELECT 
//	[CATALOG_NAME] as [CUBE],
	[CUBE_NAME] AS [PERSPECTIVE],
	[DIMENSION_UNIQUE_NAME] AS [DIMENSION],
//	[HIERARCHY_DISPLAY_FOLDER] AS [FOLDER],
	[HIERARCHY_CAPTION] AS [DIMENSION ATTRIBUTE]
//	[HIERARCHY_IS_VISIBLE] AS [VISIBLE]
//	,*
FROM $system.MDSchema_hierarchies
WHERE [CUBE_NAME]  = 'HCC Caseload'
AND HIERARCHY_ORIGIN=2
//AND [DIMENSION_UNIQUE_NAME] = '[Referral Wait Time]'
AND [HIERARCHY_IS_VISIBLE]
ORDER BY [DIMENSION_UNIQUE_NAME]


--All dimensions in Cube
SELECT 
//	[CATALOG_NAME] as [DATABASE],
//	CUBE_NAME AS [CUBE],
	DIMENSION_CAPTION AS [DIMENSION]
FROM $system.MDSchema_Dimensions
WHERE CUBE_NAME  ='HCC Caseload'
AND DIMENSION_CAPTION <> 'Measures'
ORDER BY DIMENSION_CAPTION

